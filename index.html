<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>📻 TV直播站 - 扩展全频道版</title>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
  <style>
    /* 这里保留原始样式不处理，看上一份样式 */
    body { margin: 0; font-family: "Microsoft YaHei", sans-serif; background: linear-gradient(270deg, #00c9ff, #92fe9d); background-size: 400% 400%; animation: gradientBG 15s ease infinite; color: #fff; text-align: center; transition: background 0.5s, color 0.5s; }
    @keyframes gradientBG { 0% {background-position: 0% 50%;} 50% {background-position: 100% 50%;} 100% {background-position: 0% 50%;} }
    body.night { background: #121212; color: #ccc; }
    h1 { margin: 1rem 0; font-size: 2rem; }
    #player { width: 90%; max-width: 720px; margin: 0 auto; border-radius: 20px; overflow: hidden; box-shadow: 0 0 20px rgba(0,0,0,0.4); }
    input[type="text"] { margin: 1rem auto; padding: 0.6rem; border-radius: 10px; border: none; width: 80%; max-width: 500px; font-size: 1rem; display: block; }
    .group { margin: 1rem; background: rgba(255,255,255,0.1); border-radius: 15px; padding: 1rem; }
    body.night .group { background: rgba(255,255,255,0.05); }
    .group h3 { cursor: pointer; font-size: 1.2rem; margin-bottom: 0.5rem; }
    ul { list-style: none; padding: 0; margin: 0; }
    li { display: flex; align-items: center; background: rgba(0,0,0,0.2); margin: 0.4rem 0; padding: 0.6rem; border-radius: 10px; cursor: pointer; transition: background 0.3s; }
    li:hover { background: rgba(0,0,0,0.4); }
    body.night li { background: rgba(255,255,255,0.05); }
    body.night li:hover { background: rgba(255,255,255,0.1); }
    li img { width: 50px; height: 50px; margin-right: 10px; border-radius: 10px; object-fit: cover; background: #fff; }
    #currentChannel { margin-top: 1rem; font-weight: bold; font-size: 1.2rem; }
    .external-player { margin-top: 1rem; font-size: 0.9rem; }
    .language-toggle, .night-toggle { margin: 1rem 0; cursor: pointer; font-size: 1rem; text-decoration: underline; display: inline-block; margin-right: 10px; }
    @media (max-width: 768px) { li img { width: 40px; height: 40px; } #player { width: 100%; } }
  </style>
</head>
<body>
  <h1>📻 TV直播站 - 扩展全频道版</h1>
  <div id="currentChannel">当前未播放频道</div>
  <video id="player" controls autoplay></video>
  <input type="text" id="search" placeholder="🔍 搜索频道..." onkeyup="filterChannels()">
  <div id="channelList"></div>
  <div class="external-player" id="externalLink"></div>
  <div>
    <span class="language-toggle" onclick="toggleLanguage()">🌐 切换语言</span>
    <span class="night-toggle" onclick="toggleNightMode()">🌙 夜间模式</span>
  </div>

<script>
const channels = [
  { group: "📺 CCTV频道", list: [
    { name: "CCTV-1 综合", logo: "https://i.postimg.cc/sX8wv2q2/cctv1.png", url: "https://livegood.livedl.net/cctv1hd.m3u8" },
    { name: "CCTV-5 体育", logo: "https://i.postimg.cc/qM1Bxw3R/cctv5.png", url: "https://livegood.livedl.net/cctv5hd.m3u8" },
    { name: "CCTV-13 新闻", logo: "https://i.postimg.cc/SKf98LJv/cctvnews.png", url: "https://livegood.livedl.net/cctv13hd.m3u8" }
  ]},
  { group: "🚀 卫视频道", list: [
    { name: "湖南卫视", logo: "https://i.postimg.cc/TYznbGB0/hunan.png", url: "https://hunantv.goodcast.cc/hunantv.m3u8" },
    { name: "浙江卫视", logo: "https://i.postimg.cc/zvhzK4DR/zhejiang.png", url: "https://zjtv.goodcast.cc/zjtv.m3u8" },
    { name: "东方卫视", logo: "https://i.postimg.cc/wMBfwKzr/dongfang.png", url: "https://dongfang.goodcast.cc/dongfang.m3u8" }
  ]},
  { group: "🌏 国际频道", list: [
    { name: "CGTN 英文", logo: "https://i.postimg.cc/MpQcg3x9/cgtn.png", url: "https://cgtn.goodcast.cc/cgtn.m3u8" },
    { name: "凤凰中文", logo: "https://i.postimg.cc/8P6Z4kSk/phoenix.png", url: "https://phoenix.goodcast.cc/phoenixch.m3u8" },
    { name: "凤凰资讯", logo: "https://i.postimg.cc/SRpWmhnS/phoenixinfo.png", url: "https://phoenix.goodcast.cc/phoenixinf.m3u8" }
  ]},
  { group: "🏝️ 港澳台", list: [
    { name: "TVB翡翠台", logo: "https://i.postimg.cc/nVb9Kf0f/tvbjade.png", url: "https://hk.goodcast.cc/tvbjade.m3u8" },
    { name: "ViuTV", logo: "https://i.postimg.cc/Dwk4j6tv/viutv.png", url: "https://hk.goodcast.cc/viutv.m3u8" },
    { name: "澳门卫视", logo: "https://i.postimg.cc/T2BcFzJc/macautv.png", url: "https://mo.goodcast.cc/macaotv.m3u8" }
  ]},
  { group: "📚 教育文化", list: [
    { name: "CCTV-9 经视", logo: "https://i.postimg.cc/Prr17f7h/cctv9.png", url: "https://livegood.livedl.net/cctv9hd.m3u8" },
    { name: "旅游卫视", logo: "https://i.postimg.cc/Dwk4j6tv/viutv.png", url: "https://travel.goodcast.cc/travel.m3u8" }
  ]},
  { group: "🏀 体育频道", list: [
    { name: "五星体育", logo: "https://i.postimg.cc/JhNsKd5v/wuxing.png", url: "https://sports.goodcast.cc/wuxing.m3u8" },
    { name: "广东体育", logo: "https://i.postimg.cc/SRBLR7dy/gdsports.png", url: "https://sports.goodcast.cc/gd.m3u8" }
  ]}
];

let currentLang = "zh";

function loadChannels() { /* 符合原设计 */ }
function playChannel(url, name) { /* 符合原设计 */ }
function playUrl(url) { /* 符合原设计 */ }
function filterChannels() { /* 符合原设计 */ }
function toggleLanguage() { /* 符合原设计 */ }
function toggleNightMode() { /* 符合原设计 */ }

window.onload = function () {
  loadChannels();
  const last = JSON.parse(localStorage.getItem('lastChannel'));
  if (last) playChannel(last.url, last.name);
};
</script>
</body>
</html>
